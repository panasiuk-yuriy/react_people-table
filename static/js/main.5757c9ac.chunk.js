(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{24:function(e,t,a){e.exports=a(44)},29:function(e,t,a){},38:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=a(6),s=a(1),u=(a(29),a(14)),m=a(13),i=a(22),h=a.n(i),p=["Id","Name","Sex","Born","Died","Mother","Father"],f=a(9),g=a.n(f),d=(a(38),function(e){var t=e.people,a=Object(s.g)(),n=Object(s.h)(),l=Object(s.i)().personSlug,c=function(e){a.push({pathname:"/people/".concat(e),search:n.search})};return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("tr",{className:g()("person",{person__active:e.slug===l}),key:e.name},r.a.createElement("td",null,e.id),r.a.createElement("td",{role:"gridcell",onClick:function(){return c(e.slug)},className:g()({person__male:"m"===e.sex,person__female:"f"===e.sex})},e.name),r.a.createElement("td",{role:"gridcell"},e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",{role:"gridcell",className:g()("person__female",{person__whithoutParent:l===e.motherSlug&&e.motherSlug===e.motherName}),onClick:function(){return c(e.motherSlug)}},l===e.motherSlug&&e.motherSlug===e.motherName&&r.a.createElement("span",{className:"error"},"No info about"),e.motherName),r.a.createElement("td",{role:"gridcell",onClick:function(){return c(e.fatherSlug)},className:g()("person__male",{person__whithoutParent:l===e.fatherSlug&&e.fatherSlug===e.fatherName})},l===e.fatherSlug&&e.fatherSlug===e.fatherName&&r.a.createElement("span",{className:"error"},"No info about"),e.fatherName))})))}),E=(a(43),function(){var e=Object(s.g)(),t=Object(s.h)(),a=new URLSearchParams(t.search),l=Object(n.useMemo)((function(){return a.get("query")||""}),[a]),c=Object(n.useMemo)((function(){return a.get("sortBy")||""}),[a]),o=Object(n.useMemo)((function(){return a.get("sortOrder")||""}),[a]),i=Object(n.useState)([]),f=Object(m.a)(i,2),g=f[0],E=f[1],b=Object(n.useState)(l),N=Object(m.a)(b,2),_=N[0],v=N[1];Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return E(e.map((function(t,a){var n=e.find((function(e){return e.name===t.motherName})),r=e.find((function(e){return e.name===t.fatherName}));return Object(u.a)(Object(u.a)({},t),{},{id:a+1,motherSlug:(null===n||void 0===n?void 0:n.slug)||t.motherName,fatherSlug:(null===r||void 0===r?void 0:r.slug)||t.fatherName})})))}))}),[]);var O=Object(n.useCallback)(h()(e.push,500),[]),j=Object(n.useMemo)((function(){return function(e,t){return e.filter((function(e){return(e.name+e.fatherName+e.motherName).toLowerCase().includes(t.toLowerCase())}))}(g,l)}),[g,l]);Object(n.useMemo)((function(){switch(o){case"desc":switch(c){case"id":case"born":case"died":j.sort((function(e,t){return t[c]-e[c]}));break;case"name":case"sex":j.sort((function(e,t){return t[c].localeCompare(e[c])}))}break;case"asc":switch(c){case"id":case"born":case"died":j.sort((function(e,t){return e[c]-t[c]}));break;case"name":case"sex":j.sort((function(e,t){return e[c].localeCompare(t[c])}))}}}),[j,o,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{placeholder:" Filtering people by name",type:"text",value:_,onChange:function(e){v(e.target.value),a.set("query",e.target.value),O({search:a.toString()})}}),r.a.createElement("table",{className:"people",role:"grid"},r.a.createElement("thead",null,r.a.createElement("tr",null,p.map((function(t){return r.a.createElement("th",{key:t,onClick:function(){return function(t){"mother"!==t&&"father"!==t&&(c===t&&"asc"===o?a.set("sortOrder","desc"):a.set("sortOrder","asc"),a.set("sortBy",t),e.push({search:a.toString()}))}(t.toLowerCase())}},t,"asc"===o&&t.toLowerCase()===c&&r.a.createElement("img",{className:"sortFlag",src:"./api/sort-down.svg",alt:"sort_icon"}),"desc"===o&&t.toLowerCase()===c&&r.a.createElement("img",{className:"sortFlag",src:"./api/sort-up.svg",alt:"sort_icon"}))})))),r.a.createElement("tbody",null,r.a.createElement(d,{people:j}))))}),b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"PeoplePage"),r.a.createElement(E,null))},N=function(){return r.a.createElement("h2",null,"Home")},_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",exact:!0,className:"nav__link",activeClassName:"nav__link--active"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/people",className:"nav__link",activeClassName:"nav__link--active"},"People")))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:N}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,{exact:!0,path:"/people/:personSlug?",component:b}),r.a.createElement("h1",null,"Page not found")))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.5757c9ac.chunk.js.map