(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{19:function(e,t,a){e.exports=a(32)},24:function(e,t,a){},25:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),o=a(6),u=a(1),m=(a(24),a(13)),s=a(18),i=["Id","Name","Sex","Born","Died","Mother","Father"],h=a(9),f=a.n(h),p=(a(25),function(e){var t=e.people,a=Object(u.g)(),n=Object(u.h)(),l=Object(u.i)().personSlug,c=function(e){a.push({pathname:"/people/".concat(e),search:n.search})};return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("tr",{className:f()("person",{person__active:e.slug===l}),key:e.name},r.a.createElement("td",null,e.id),r.a.createElement("td",{role:"gridcell",onClick:function(){return c(e.slug)},className:f()({person__male:"m"===e.sex,person__female:"f"===e.sex})},e.name),r.a.createElement("td",{role:"gridcell"},e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",{role:"gridcell",className:f()("person__female",{person__whithoutParent:l===e.motherSlug&&e.motherSlug===e.motherName}),onClick:function(){return c(e.motherSlug)}},l===e.motherSlug&&e.motherSlug===e.motherName&&r.a.createElement("span",{className:"error"},"No info about"),e.motherName),r.a.createElement("td",{role:"gridcell",onClick:function(){return c(e.fatherSlug)},className:f()("person__male",{person__whithoutParent:l===e.fatherSlug&&e.fatherSlug===e.fatherName})},l===e.fatherSlug&&e.fatherSlug===e.fatherName&&r.a.createElement("span",{className:"error"},"No info about"),e.fatherName))})))}),d=(a(31),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(u.g)(),o=Object(u.h)(),h=new URLSearchParams(o.search),f=Object(n.useMemo)((function(){return h.get("query")||""}),[h]),d=Object(n.useMemo)((function(){return h.get("sortBy")||""}),[h]),g=Object(n.useMemo)((function(){return h.get("sortOrder")||""}),[h]);Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return l(e.map((function(t,a){var n=e.find((function(e){return e.name===t.motherName})),r=e.find((function(e){return e.name===t.fatherName}));return Object(m.a)(Object(m.a)({},t),{},{id:a+1,motherSlug:(null===n||void 0===n?void 0:n.slug)||t.motherName,fatherSlug:(null===r||void 0===r?void 0:r.slug)||t.fatherName})})))}))}),[]);var E=Object(n.useMemo)((function(){return function(e,t){return e.filter((function(e){return(e.name+e.fatherName+e.motherName).toLowerCase().includes(t.toLowerCase())}))}(a,f)}),[a,f]);Object(n.useMemo)((function(){switch(d){case"id":case"born":case"died":E.sort((function(e,t){return e[d]-t[d]}));break;case"name":case"sex":E.sort((function(e,t){return e[d].localeCompare(t[d])}))}}),[E,d]),Object(n.useMemo)((function(){switch(g){case"desc":E.reverse()}}),[E,g]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:f,onChange:function(e){h.set("query",e.target.value),c.push({search:h.toString()})}}),r.a.createElement("table",{className:"people",role:"grid"},r.a.createElement("thead",null,r.a.createElement("tr",null,i.map((function(e){return r.a.createElement("th",{key:e,onClick:function(){return function(e){"mother"!==e&&"father"!==e&&(d===e&&"asc"===g?h.set("sortOrder","desc"):h.set("sortOrder","asc"),h.set("sortBy",e),c.push({search:h.toString()}))}(e.toLowerCase())}},e,e.toLowerCase()===d&&r.a.createElement("span",{className:"sortFlag"},"*"))})))),r.a.createElement("tbody",null,r.a.createElement(p,{people:E}))))}),g=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"PeoplePage"),r.a.createElement(d,null))},E=function(){return r.a.createElement("h2",null,"Home")},b=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/",exact:!0,className:"nav__link",activeClassName:"nav__link--active"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/people",className:"nav__link",activeClassName:"nav__link--active"},"People")))),r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/",exact:!0,component:E}),r.a.createElement(u.a,{from:"/home",to:"/"}),r.a.createElement(u.b,{exact:!0,path:"/people/:personSlug?",component:g}),r.a.createElement("h1",null,"Page not found")))};c.a.render(r.a.createElement(o.a,null,r.a.createElement(b,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.af01c973.chunk.js.map